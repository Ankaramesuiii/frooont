<nav aria-label="breadcrumb">
  <ol class="breadcrumb">
    <li class="breadcrumb-item"><a routerLink=".">General</a></li>
    <li class="breadcrumb-item active" aria-current="page">
      Gestion de budget
    </li>
  </ol>
</nav>

<div class="container-fluid">
  <div class="row justify-content-center">
    <div class="col-md-10 col-lg-8 col-xl-6 grid-margin">
      <div class="card">
        <div class="card-body">
          <h4 class="card-title text-center mb-4">
            Veuillez saisir les différents types de budgets pour vos équipes
          </h4>

          <aw-wizard #wizardForm>
            <aw-wizard-step stepTitle="Formations">
              <form (ngSubmit)="form1Submit()" [formGroup]="validationForm1" class="wizard-wrapper">
                <div class="row mb-4">
                  <label class="col-form-label"
                    >Budget alloué pour les formations</label
                  >
                  <div class="col-sm-9">
                    <input
                      type="number"
                      class="form-control"
                      formControlName="budgetFormation"
                      [ngClass]="{
                        'is-invalid':
                          isForm1Submitted && form1.budgetFormation.errors
                      }"
                      placeholder="Budget pour les formations"
                    />
                    <p
                      class="invalid-feedback"
                      *ngIf="
                        isForm1Submitted &&
                        form1.budgetFormation.errors?.pattern
                      "
                    >
                      Doit être un nombre valide positif
                    </p>
                  </div>
                </div>

                <div class="d-flex justify-content-center mt-2">
                  <button class="btn btn-primary" type="submit">
                    Continue
                  </button>
                </div>
              </form>
            </aw-wizard-step>

            <aw-wizard-step stepTitle="Voyages">
              
              <form (ngSubmit)="form2Submit()" [formGroup]="validationForm2">
                <div class="row mb-4">
                  <label class="col-form-label"
                    >Budget alloué pour les voyages</label
                  >
                  <div class="col-sm-9">
                    <input
                      type="number"
                      class="form-control"
                      formControlName="budgetVoyage"
                      [ngClass]="{
                        'is-invalid':
                          isForm2Submitted && form2.budgetVoyage.errors
                      }"
                      placeholder="Budget pour les voyages"
                    />
                    <p
                      class="invalid-feedback"
                      *ngIf="
                        isForm2Submitted && form2.budgetVoyage.errors?.pattern
                      "
                    >
                      Doit être un nombre valide positif
                    </p>
                  </div>
                </div>

                <div class="d-flex justify-content-center mt-2">
                  <button class="btn btn-primary" type="submit">
                    Continue
                  </button>
                </div>
              </form>
            </aw-wizard-step>

            <aw-wizard-step stepTitle="Autres">
              
              <form (ngSubmit)="form3Submit()" [formGroup]="validationForm3">
                <div class="row mb-4">
                  <label class="col-form-label">Autres budgets</label>
                  <div class="col-sm-9">
                    <input
                      type="number"
                      class="form-control"
                      formControlName="budgetAutre"
                      [ngClass]="{
                        'is-invalid':
                          isForm3Submitted && form3.budgetAutre.errors
                      }"
                      placeholder="Budget pour autres activités"
                    />
                    <p
                      class="invalid-feedback"
                      *ngIf="
                        isForm3Submitted && form3.budgetAutre.errors?.pattern
                      "
                    >
                      Doit être un nombre valide positif
                    </p>
                  </div>
                </div>

                <div class="d-flex justify-content-center mt-2">
                  <button class="btn btn-primary" type="submit">
                    Continue
                  </button>
                </div>
              </form>
            </aw-wizard-step>

            <aw-wizard-step stepTitle="">
              <div class="text-center">
                <i
                  [attr.data-feather]="isSuccess ? 'check-circle' : 'x-circle'"
                  [ngClass]="{
                    'text-success': isSuccess,
                    'text-danger': !isSuccess
                  }"
                  class="mt-4 mb-2 icon-xxl"
                ></i>
                <h3 [ngClass]="{ 'text-secondary': isSuccess, 'text-danger': !isSuccess }" class="mb-3">
                  {{ isSuccess ? 'Merci!' : 'Erreur' }}
                </h3>
                <p class="w-75 mx-auto mb-4" [ngClass]="{ 'text-secondary': isSuccess, 'text-danger': !isSuccess }">
                  {{ msg }}
                </p>
                <p class="w-75 mx-auto mb-4 text-secondary" *ngIf="isSuccess && proceed">
                  <a routerLink="/general/formations">{{ proceed }}</a>
                </p>
              </div>
            
              <div class="d-flex justify-content-center mt-2">
                <button class="btn btn-secondary me-2" type="button" awPreviousStep *ngIf="!isSuccess">
                  Retour
                </button>
                <button
                  *ngIf="!isSuccess"
                  class="btn btn-danger me-2"
                  type="button"
                  (click)="wizardForm.goToStep(0)"
                >
                  Corriger
                </button>
                <button
                  *ngIf="isSuccess"
                  class="btn btn-success"
                  type="button"
                  (click)="finishFunction()"
                >
                  Enregistrer
                </button>
              </div>
            </aw-wizard-step>
            
            
            
          </aw-wizard>
        </div>
      </div>
    </div>
  </div>
</div>
